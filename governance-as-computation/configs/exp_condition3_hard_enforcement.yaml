# Condition 3: HARD ENFORCEMENT â€” Advisory + silent harvest capping
# Part of 5-condition A/B experiment (v3 plan)
name: sheep_${code_version}/${group_name}
scenario: sheep

defaults:
  - persona@personas.persona_0: baseline_shepherd
  - persona@personas.persona_1: baseline_shepherd
  - persona@personas.persona_2: baseline_shepherd
  - persona@personas.persona_3: baseline_shepherd
  - persona@personas.persona_4: baseline_shepherd

env:
  name: exp_condition3_hard_enforcement
  class_name: sheep_perturbation_concurrent_env
  max_num_rounds: 12
  initial_resource_in_pool: 100
  poupulation_change_after_round: double_100_cap
  observation_other_agents_harvesting: true
  language_nature: unconstrained
  num_agents: 5
  harvesting_order: concurrent
  assign_resource_strategy: stochastic
  inject_universalization: false
  inject_scenario_dynamic: false
  perturbations: []

  governance:
    enabled: true
    mode: "hard"
    policy_name: "sustainable_pasture_v1"
    max_harvest_per_agent: 10
    sustainable_threshold_per_round: 50
    universalization_required: true
    violation_triggers_escalation: true
    evidence_sources:
      - "NeurIPS-2024-Piatti-GovSim"

personas:
  num: 5
  persona_0:
    name: John
  persona_1:
    name: Kate
  persona_2:
    name: Jack
  persona_3:
    name: Emma
  persona_4:
    name: Luke

agent:
  agent_package: persona_v3
  system_prompt: v3
  cot_prompt: think_step_by_step
  act:
    universalization_prompt: false
    harvest_strategy: one_step
    consider_identity_persona: true

  converse:
    inject_resource_observation: ${experiment.env.observation_other_agents_harvesting}
    inject_resource_observation_strategy: manager
    max_conversation_steps: 10
    prompt_utterance: one_shot

  store:
    expiration_delta:
      days: 63
